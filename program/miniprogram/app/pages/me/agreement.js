const AGREEMENT_META = {
  appName: "HOWTOGROW如何成长",
  version: "v1.0",
  effectiveDate: "2025-12-31",
  lastUpdatedDate: "2025-12-31",
  contactEmail: "support@howtogrow.example",
};

const AGREEMENT_SECTIONS = [
  {
    id: "intro",
    title: "前言",
    blocks: [
      {
        type: "p",
        text: "欢迎您使用 Howtogrow（以下简称“本服务”）。在您开始使用前，请务必阅读并理解本协议与隐私政策的全部内容。您点击同意、注册、登录或开始使用，即视为您已充分阅读并接受本协议的约束。",
      },
      {
        type: "p",
        text: "若您为未成年人，请在监护人陪同下阅读本协议，并在取得监护人同意后使用本服务。监护人应对未成年人的使用行为承担相应监护责任。",
      },
    ],
  },
  {
    id: "terms",
    title: "1. 服务条款",
    blocks: [
      {
        type: "p",
        text: "本服务为面向家庭教育与亲子沟通场景的工具类产品，提供孩子管理、每日自测、成长报告、订阅购买、AI 对话与 AI 自测总结等功能。我们将尽力保证服务稳定，但不对服务的持续可用性作绝对保证。",
      },
      {
        type: "p",
        text: "您理解并同意：本服务提供的测评、建议与 AI 生成内容仅供参考，不构成医疗、心理、法律或其他专业意见；如遇紧急或高风险情形（例如严重情绪困扰、伤害风险等），请及时寻求专业机构帮助。",
      },
      {
        type: "list",
        items: [
          "您应保证提供的信息真实、准确、合法，不得冒用他人身份。",
          "您应妥善保管账号与设备信息，因您原因导致的损失由您自行承担。",
          "您不得利用本服务从事违法违规行为，包括但不限于发布违法信息、侵犯他人权益、破坏系统安全等。",
          "我们有权在合理范围内对产品功能进行更新、升级、调整或下线，并在必要时向您进行提示。",
        ],
      },
      {
        type: "p",
        text: "当您违反本协议或法律法规要求时，我们有权根据违规程度采取限制功能、暂停或终止服务等措施，并保留依法追究责任的权利。",
      },
    ],
  },
  {
    id: "privacy",
    title: "2. 隐私政策（摘要）",
    blocks: [
      {
        type: "p",
        text: "我们非常重视您的个人信息保护。为实现本服务的核心功能，我们可能会收集、使用并在必要范围内共享您的信息。我们将采取合理的安全措施保护您的信息安全。",
      },
      {
        type: "p",
        text: "2.1 我们可能收集的信息（视您授权与使用情况而定）：",
      },
      {
        type: "list",
        items: [
          "账号与登录信息：如微信登录标识（例如 openid/unionid）、昵称、头像等（以微信授权信息为准）。",
          "孩子信息：如昵称、性别、出生日期/年龄区间（用于测评匹配与成长报告展示）。",
          "测评与使用记录：每日自测的作答数据、得分、时间信息（用于生成成长趋势与报告）。",
          "AI 对话内容：您输入的文本以及系统返回内容（用于提供对话服务、生成总结与改进体验）。",
          "设备与日志信息：设备型号、系统版本、网络状态、错误日志（用于保障安全与改进稳定性）。",
        ],
      },
      {
        type: "p",
        text: "2.2 信息使用目的：提供与维护核心功能、账号安全、故障排查、改进产品体验、遵守法律法规要求。",
      },
      {
        type: "p",
        text: "2.3 第三方服务：为提供部分能力（如 AI 生成、云存储/内容分发等），我们可能会接入第三方服务。我们会对第三方进行必要的合规与安全评估，并要求其在授权范围内处理数据。",
      },
      {
        type: "p",
        text: "2.4 您的权利：您可在产品内查看与管理部分信息，您也可以通过联系我们申请访问、更正、删除或撤回授权（法律法规另有规定的除外）。",
      },
    ],
  },
  {
    id: "subscription",
    title: "3. 订阅与购买说明",
    blocks: [
      {
        type: "p",
        text: "订阅属于数字化服务/虚拟商品，开通后可在订阅有效期内使用对应权益（以页面展示为准）。订阅的计费、扣款与订单处理以微信支付及相关规则为准。",
      },
      {
        type: "list",
        items: [
          "购买前请确认套餐名称、价格、有效期与权益范围。",
          "除法律法规另有规定外，虚拟商品一经开通通常不支持退款。",
          "如遇支付成功但权益未生效等异常情况，请通过“联系我们”反馈并提供订单号/截图。",
        ],
      },
    ],
  },
  {
    id: "ip",
    title: "4. 知识产权与内容规范",
    blocks: [
      {
        type: "p",
        text: "本服务的产品形态、界面设计、程序、图标、文案等内容（依法需由第三方享有的除外）均受知识产权保护。未经许可，任何人不得复制、传播、反向工程或用于其他商业用途。",
      },
      {
        type: "p",
        text: "您在本服务中输入的内容应保证不侵犯他人合法权益。我们可能依据法律法规、平台规则及风险控制需要，对违规内容进行处理。",
      },
    ],
  },
  {
    id: "disclaimer",
    title: "5. 免责声明与责任限制",
    blocks: [
      {
        type: "p",
        text: "在法律允许的范围内，我们不对因以下原因导致的服务中断、数据丢失或其他损失承担责任：不可抗力、第三方服务故障、网络原因、用户设备原因、用户操作不当等。",
      },
      {
        type: "p",
        text: "如因我们重大过失造成您的直接损失，我们将在合理范围内承担相应责任；但我们不对间接损失、可得利益损失等承担责任。",
      },
    ],
  },
  {
    id: "changes",
    title: "6. 协议更新",
    blocks: [
      {
        type: "p",
        text: "我们可能适时更新本协议与隐私政策。更新后的内容将以适当方式提示您。若您继续使用本服务，即视为您接受更新后的协议。",
      },
    ],
  },
  {
    id: "contact",
    title: "7. 联系我们",
    blocks: [
      {
        type: "p",
        text: "如您对本协议或隐私政策有任何疑问、意见或投诉建议，可通过以下方式联系我们：",
      },
      { type: "contact" },
    ],
  },
];

Page({
  data: {
    meta: AGREEMENT_META,
    sections: AGREEMENT_SECTIONS,
  },
  onBack() {
    wx.navigateBack();
  },
  onCopyEmail() {
    const email = this.data?.meta?.contactEmail || "";
    if (!email) return;
    wx.setClipboardData({ data: email });
  },
});
