<view class="page safe-bottom">
  <ui-header title="每日自测" />

  <view class="head">
    <view class="h1">每日自测</view>
    <view class="h2">选择一个孩子开始今天的成长记录</view>
  </view>

  <view wx:if="{{loading}}" class="loading">加载中…</view>

  <view wx:elif="{{children.length == 0}}" class="empty col center">
    <view class="empty__logo">
      <view class="logo-dot">
        <view class="logo-smile" />
        <view class="logo-tail" />
      </view>
    </view>
    <view class="empty__title">还没有添加孩子</view>
    <view class="empty__desc">添加孩子信息后\n即可开启专属的成长自测计划</view>
    <button class="btn-primary" bindtap="onAddChild">添加孩子</button>
  </view>

  <view wx:else class="grid">
    <view wx:for="{{children}}" wx:key="id" class="cell" bindtap="onSelectChild" data-id="{{item.id}}" data-name="{{item.nickname}}">
      <view class="avatar {{item.gender == 1 ? 'boy' : item.gender == 2 ? 'girl' : 'unk'}}">
        <text>{{item.gender == 1 ? '👦' : item.gender == 2 ? '👧' : '🙂'}}</text>
      </view>
      <view class="name">{{item.nickname}}</view>
      <view class="age">{{item.age}} 岁</view>
    </view>

    <view class="cell add" bindtap="onAddChild">
      <view class="add__icon">＋</view>
      <view class="add__text">添加孩子</view>
    </view>
  </view>
</view>
