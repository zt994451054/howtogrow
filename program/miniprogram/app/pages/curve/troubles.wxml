<view class="page">
  <ui-header title="我的困扰分布" left="back" bind:left="onBack" />

  <scroll-view class="body safe-bottom" scroll-y="true" enhanced="true" show-scrollbar="false">
    <view class="wrap">
      <view wx:if="{{loading}}" class="loading">加载中…</view>

      <view wx:elif="{{items.length == 0}}" class="empty col center">
        <view class="empty__title">暂无数据</view>
        <view class="empty__desc">这段时间没有记录到困扰哦~</view>
      </view>

      <view wx:else class="list">
        <view wx:for="{{items}}" wx:key="id" class="row-item row a">
          <view class="rank {{item.rankClass}}">{{item.rank}}</view>

          <view class="icon {{item.iconClass}}">
            <image wx:if="{{item.logoUrl}}" class="icon__img" src="{{item.logoUrl}}" mode="aspectFill" />
            <view wx:else class="icon__fallback">{{item.shortName}}</view>
          </view>

          <view class="content">
            <view class="head row between">
              <view class="name text-ellipsis {{item.textClass}}">{{item.name}}</view>
              <view class="count {{item.countClass}}">{{item.count}}次</view>
            </view>
            <view class="bar">
              <view class="bar__fill {{item.barClass}}" style="width: {{item.pct}}%;" />
            </view>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
</view>
