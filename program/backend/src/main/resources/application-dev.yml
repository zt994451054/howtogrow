spring:
  datasource:
    url: jdbc:mysql://${MYSQL_HOST:127.0.0.1}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:howtotalk}?useUnicode=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai
    username: ${MYSQL_USERNAME:root}
    password: ${MYSQL_PASSWORD:123456}
  data:
    redis:
      host: ${REDIS_HOST:127.0.0.1}
      port: ${REDIS_PORT:6379}
      timeout: 2s

app:
  daily-assessment:
    session-ttl-seconds: ${DAILY_ASSESSMENT_SESSION_TTL_SECONDS:7200}
  jwt:
    miniprogram-secret: ${JWT_SECRET_MINIPROGRAM:9c2b7d0f8c6b4b3e2b1a0f8e7d6c5b4a3f2e1d0c9b8a7f6e5d4c3b2a1f0e9d8c}
    admin-secret: ${JWT_SECRET_ADMIN:4a7f3c9d2e8b1f6c0d5a9e3b7c1f8d2a6e0c5b9d3f7a1e8c2b6d0f5a9c3e7b1d}
    ttl-seconds: 2592000 # 30 days
  rate-limit:
    ai-chat-per-minute: ${AI_CHAT_PER_MINUTE:60}
    ai-summary-per-day: ${AI_SUMMARY_PER_DAY:10}
  admin:
    security:
      # 按你的要求：仅做前端渲染权限，后端默认不做权限码校验
      enforce-permission-checks: ${ADMIN_ENFORCE_PERMISSION_CHECKS:false}
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:*}
    allow-credentials: ${CORS_ALLOW_CREDENTIALS:false}
  wechat:
    mock-enabled: true
  ai:
    mock-enabled: ${AI_MOCK_ENABLED:true}
    base-url: ${OPENAI_API_BASE:${AI_BASE_URL:https://ark.cn-beijing.volces.com/api/v3}}
    api-key: ${OPENAI_API_KEY}
    model: ${OPENAI_MODEL:deepseek-v3-2-251201}
    # 该网关常见为 /chat/completions；如不匹配可用 OPENAI_CHAT_COMPLETIONS_PATH 覆盖
    chat-completions-path: ${OPENAI_CHAT_COMPLETIONS_PATH:/chat/completions}
  wechat-pay:
    mock-enabled: true
