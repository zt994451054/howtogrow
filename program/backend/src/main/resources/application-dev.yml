spring:
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/howtotalk?useUnicode=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
  data:
    redis:
      host: 127.0.0.1
      port: 6379
      timeout: 2s

app:
  oss:
    enabled: true
    endpoint: oss-cn-beijing.aliyuncs.com
    access-key-id: LTAI5tKivhkaVvzeNb8CsU2n
    access-key-secret: M9yoQMAhmJ5HjE2ECpQzqOWFr7BV5V
    bucket: howtotalk-test
    avatar-prefix: avatars
  daily-assessment:
    session-ttl-seconds: 7200
  jwt:
    miniprogram-secret: 9c2b7d0f8c6b4b3e2b1a0f8e7d6c5b4a3f2e1d0c9b8a7f6e5d4c3b2a1f0e9d8c1
    admin-secret: 4a7f3c9d2e8b1f6c0d5a9e3b7c1f8d2a6e0c5b9d3f7a1e8c2b6d0f5a9c3e7b1d
    ttl-seconds: 2592000 # 30 days
  rate-limit:
    ai-chat-per-minute: 60
    ai-summary-per-day: 10
  admin:
    security:
      # 按你的要求：仅做前端渲染权限，后端默认不做权限码校验
      enforce-permission-checks: false
  cors:
    allowed-origins: "*"
    allow-credentials: false
  wechat:
    appid: wx708361aab07c9b7a
    secret: a9ed0b219a95bf05255ce64c8f259103
  ai:
    base-url: https://dashscope.aliyuncs.com/compatible-mode/v1/
    api-key: sk-9ef802cbe8e94fce972b222c88be13d5
    model: qwen3-max
    # 该网关常见为 /chat/completions；如不匹配可用 OPENAI_CHAT_COMPLETIONS_PATH 覆盖
    chat-completions-path: /chat/completions
  wechat-pay:
    mch-id: 1584856071
    mch-serial-no: 11119F444CCBFB2A680B9475C8D0EFEDCBCFA7A4
    api-v3-key: A9f3KQ7M2ZxR8D4E6pHcWmYVJtB5L0Ns
    # 商户 APIv3 私钥（pem）
    private-key-path: classpath:1584856071_20260118_cert/apiclient_key.pem
    # 不使用平台证书 auto-update，改为“微信支付平台公钥”验签模式（WechatPayPublicKey / fullPublicKeyModel）
    verify-mode: PLATFORM_PUBLIC_KEY
    # 微信支付平台公钥ID（对应回调头 Wechatpay-Serial）
    public-key-id: PUB_KEY_ID_0115848560712026011800112336000200
    # 微信支付平台公钥（pem）路径；建议生产用文件挂载，开发可用 classpath:
    public-key-path: classpath:1584856071_20260118_cert/wechatpay_public_key.pem
    notify-url: https://hoofbound-mila-astrophysical.ngrok-free.dev/api/v1/pay/wechat/notify
  #    notify-url: https://134u88w950.oicp.vip/api/v1/pay/wechat/notify

